<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter PUBLIC "-//OASIS//DTD DocBook XML V4.4//EN"
"http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd">
<!--
  ~ This file is part of Geomajas, a component framework for building
  ~ rich Internet applications (RIA) with sophisticated capabilities for the
  ~ display, analysis and management of geographic information.
  ~ It is a building block that allows developers to add maps
  ~ and other geographic data capabilities to their web applications.
  ~
  ~ Copyright 2008-2010 Geosparc, http://www.geosparc.com, Belgium
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation, either version 3 of the
  ~ License, or (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU Affero General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Affero General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->
<chapter id="chapter-configuration">
  <title>Configuration</title>

  <para>Configuration for the geocoder plug-in.</para>

  <section>
    <title>Dependencies</title>

    <para>Make sure your include the plug-in in your project. If you are using
    Maven, add the following dependency to your pom:</para>

    <example>
      <title>Plug-in dependency</title>

      <programlisting>&lt;dependency&gt;
    &lt;groupId&gt;org.geomajas.plugin&lt;/groupId&gt;
    &lt;artifactId&gt;geomajas-plugin-geocoder&lt;/artifactId&gt;
    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;</programlisting>
    </example>

    <para>If you want to use the geocoder widget for the GWT face, then you
    need the following two dependencies:</para>

    <example>
      <title>Plug-in GWT dependency</title>

      <programlisting>&lt;dependency&gt;
    &lt;groupId&gt;org.geomajas.plugin&lt;/groupId&gt;
    &lt;artifactId&gt;geomajas-plugin-geocoder-gwt&lt;/artifactId&gt;
    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
&lt;/dependency&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.geomajas.plugin&lt;/groupId&gt;
    &lt;artifactId&gt;geomajas-plugin-geocoder-gwt&lt;/artifactId&gt;
    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
    &lt;classifier&gt;sources&lt;/classifier&gt;
&lt;/dependency&gt;</programlisting>
    </example>

    <para></para>
  </section>

  <section>
    <title>Geocoder command configuration</title>

    <para>When you include the geocoder dependency, you also have to configure
    the geocoder command or you will get an exception when the application
    context is built.</para>

    <para>An example configuration looks like this:</para>

    <xi:include href="../listing/exampleConfiguration.xml"
                xmlns:xi="http://www.w3.org/2001/XInclude" />

    <para>To configure the geocoder plugin, you have to create a bean
    instantiating the GeocoderInfo class. </para>

    <para>In the bean, you have to set the geocoderServices property to select
    which geocoder services you want to be used to attempt to convert the
    string to a location.</para>

    <para>Other properties you may want to set:</para>

    <para><itemizedlist>
        <listitem>
          <para><emphasis>splitGeocoderStringService</emphasis> :</para>
        </listitem>

        <listitem>
          <para><emphasis>combineResultService</emphasis> :</para>
        </listitem>

        <listitem>
          <para><emphasis>loopAllServices</emphasis> : </para>
        </listitem>

        <listitem>
          <para><emphasis>pointDisplayWidth</emphasis> :200</para>
        </listitem>

        <listitem>
          <para><emphasis>pointDisplayHeight</emphasis> :100</para>
        </listitem>
      </itemizedlist></para>
  </section>
	<section>
    <title>Static regex geocoder service configuration</title>
		<para>...</para>
  </section>
	<section>
    <title>GeoNames service configuration</title>
		<para>...</para>
  </section>
	<section>
    <title>Yahoo! PlaceFinder geocoder service configuration</title>
		<para>...</para>
  </section>
</chapter>
