	public Canvas getViewPanel() {
		VLayout layout = new VLayout();
		layout.setWidth100();
		layout.setHeight100();

		// Map with ID wmsMap is defined in the XML configuration. (mapWms.xml)
		final MapWidget map = new MapWidget("wmsMap", "gwt-samples");

		// Create the custom controller:
		final GraphicsController customController = new AbstractGraphicsController(map) {

			public void onMouseOver(MouseOverEvent event) {
				// When the mouse hovers over the image, make it transparent:
				map.getVectorContext().drawImage(map.getGroup(RenderGroup.SCREEN), "image",
						Geomajas.getIsomorphicDir() + IMAGE, new Bbox(200, 200, 48, 48), new PictureStyle(0.4));
			}

			public void onMouseOut(MouseOutEvent event) {
				// When the mouse moves away from the image, make it visible again: 
				map.getVectorContext().drawImage(map.getGroup(RenderGroup.SCREEN), "image",
						Geomajas.getIsomorphicDir() + IMAGE, new Bbox(200, 200, 48, 48), new PictureStyle(1));
			}
		};

		// After map initialization we draw an image on the map:
		map.getMapModel().addMapModelHandler(new MapModelHandler() {

			public void onMapModelChange(MapModelEvent event) {
				GraphicsContext graphics = map.getVectorContext();
				graphics.drawImage(map.getGroup(RenderGroup.SCREEN), "image", Geomajas.getIsomorphicDir() + IMAGE,
						new Bbox(200, 200, 48, 48), new PictureStyle(1.0));
				map.getVectorContext().setController(map.getGroup(RenderGroup.SCREEN), "image", customController);
			}
		});

		layout.addMember(map);
		return layout;
	}