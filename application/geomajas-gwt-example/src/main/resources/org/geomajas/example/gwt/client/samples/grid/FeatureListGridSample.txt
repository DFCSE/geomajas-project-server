	public Canvas getViewPanel() {
		VLayout layout = new VLayout();
		layout.setWidth100();
		layout.setHeight100();
		layout.setMembersMargin(10);

		VLayout mapLayout = new VLayout();
		mapLayout.setShowEdges(true);

		// Map with ID osmFeatureInfoMap is defined in the XML configuration.
		final MapWidget map = new MapWidget("africanCountriesMap", "gwt-samples");
		map.setController(new PanController(map));
		mapLayout.addMember(map);

		// Create a layout with a FeatureListGrid in it:
		final FeatureListGrid grid = new FeatureListGrid(map.getMapModel());
		grid.setShowEdges(true);

		// Add a trigger to fill the grid when the map has finished loading:
		map.getMapModel().addMapModelHandler(new MapModelHandler() {

			public void onMapModelChange(MapModelEvent event) {
				VectorLayer layer = (VectorLayer) map.getMapModel().getLayer("countriesLayer");
				grid.setLayer(layer);
				layer.getFeatureStore().queryAndSync(map.getMapModel().getMapView().getBounds(), null, null,
						new TileFunction<VectorTile>() {

							public void execute(VectorTile tile) {
								tile.getFeatures(GeomajasConstant.FEATURE_INCLUDE_ALL, new LazyLoadCallback() {

									public void execute(List<Feature> response) {
										for (Feature feature : response) {
											grid.addFeature(feature);
										}
									}
								});
							}
						});
			}
		});

		layout.addMember(grid);
		layout.addMember(mapLayout);

		return layout;
	}